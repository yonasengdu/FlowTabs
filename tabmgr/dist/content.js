(()=>{"use strict";var e={411:(e,t)=>{function n(e){const t=document.querySelectorAll(".alt-q-switcher-item"),n=document.getElementById("alt-q-switcher-list");if(t.forEach((t,n)=>{t.classList.toggle("highlighted",n===e)}),n&&t[e]){const i=t[e],o=n.getBoundingClientRect(),r=i.getBoundingClientRect();r.top<o.top?i.scrollIntoView({behavior:"smooth",block:"start"}):r.bottom>o.bottom&&i.scrollIntoView({behavior:"smooth",block:"end"})}}function i(){const e=document.getElementById("alt-q-switcher-overlay");e&&e.remove();const t=document.getElementById("alt-q-switcher-styles");t&&t.remove()}Object.defineProperty(t,"__esModule",{value:!0}),t.createSwitcherUI=function(e,t){i(),function(){if(document.getElementById("alt-q-switcher-styles"))return;const e=document.createElement("link");e.id="alt-q-switcher-styles",e.rel="stylesheet",e.type="text/css",e.href=chrome.runtime.getURL("switcher.css"),(document.head||document.documentElement).appendChild(e)}();const o=document.createElement("div");o.id="alt-q-switcher-overlay",o.innerHTML='<div id="alt-q-switcher-list"></div>',document.body.appendChild(o),document.getElementById("alt-q-switcher-list").innerHTML=e.map(e=>{const t=!!e.thumbnailUrl;return`\n      <div class="alt-q-switcher-item">\n          <div class="alt-q-img-container">\n            <img src="${e.thumbnailUrl||e.favIconUrl||"https://i.imgur.com/8QZ7gV5.png"}" class="${t?"alt-q-preview-img":"alt-q-favicon"}" loading="lazy" alt=""/>\n          </div>\n          <span class="alt-q-title">${e.title}</span>\n      </div>\n  `}).join(""),n(t)},t.updateHighlight=n,t.cleanup=i},583:function(e,t,n){var i,o=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,o)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),c=this&&this.__importStar||(i=function(e){return i=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},i(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=i(e),c=0;c<n.length;c++)"default"!==n[c]&&o(t,e,n[c]);return r(t,e),t}),l=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(o,r){function c(e){try{s(i.next(e))}catch(e){r(e)}}function l(e){try{s(i.throw(e))}catch(e){r(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(c,l)}s((i=i.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const s=c(n(411));!function(){if(window.altQSwitcherInitialized)return;window.altQSwitcherInitialized=!0;const e={isVisible:!1,tabs:[],highlightedIndex:0};let t=!1,n=!1;function i(t){if(("Alt"===t.key||18===t.keyCode)&&(t.stopImmediatePropagation(),t.preventDefault(),e.isVisible)){const t=e.tabs[e.highlightedIndex];if(null==t?void 0:t.id){const e={type:"switch-to-tab",tabId:t.id};chrome.runtime.sendMessage(e).catch(()=>{})}r()}}function o(e){"alt-q-switcher-overlay"===e.target.id&&r()}function r(){e.isVisible&&(s.cleanup(),e.isVisible=!1,e.tabs=[],e.highlightedIndex=0),t&&(window.removeEventListener("keyup",i,{capture:!0}),t=!1),n=!1}chrome.runtime.connect({name:"content-script-lifecycle"}).onDisconnect.addListener(()=>{r()}),chrome.runtime.onMessage.addListener(c=>{"shortcut-pressed"===c.type&&function(){l(this,void 0,void 0,function*(){if(!n)if(e.isVisible)e.highlightedIndex=(e.highlightedIndex+1)%e.tabs.length,s.updateHighlight(e.highlightedIndex);else{n=!0;try{const r=yield chrome.runtime.sendMessage({type:"capture-and-get-list"});if(!r||0===r.length)return void(n=!1);e.tabs=r,e.highlightedIndex=r.length>1?1:0,e.isVisible=!0,s.createSwitcherUI(e.tabs,e.highlightedIndex),t||(window.addEventListener("keyup",i,{capture:!0,once:!1}),t=!0);const c=document.getElementById("alt-q-switcher-overlay");c&&c.addEventListener("click",o),n=!1}catch(e){n=!1,e.message.includes("Extension context invalidated")&&r()}}})}()})}()}},t={};!function n(i){var o=t[i];if(void 0!==o)return o.exports;var r=t[i]={exports:{}};return e[i].call(r.exports,r,r.exports,n),r.exports}(583)})();