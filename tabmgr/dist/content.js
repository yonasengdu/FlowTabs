(()=>{"use strict";var e={411:(e,t)=>{function n(e){document.querySelectorAll(".alt-q-switcher-item").forEach((t,n)=>{t.classList.toggle("highlighted",n===e)})}Object.defineProperty(t,"__esModule",{value:!0}),t.createSwitcherUI=function(e,t){!function(){if(document.getElementById("alt-q-switcher-styles"))return;const e=document.createElement("link");e.id="alt-q-switcher-styles",e.rel="stylesheet",e.type="text/css",e.href=chrome.runtime.getURL("switcher.css"),(document.head||document.documentElement).appendChild(e)}();const i=document.createElement("div");i.id="alt-q-switcher-overlay",i.innerHTML='<div id="alt-q-switcher-list"></div>',document.body.appendChild(i),document.getElementById("alt-q-switcher-list").innerHTML=e.map(e=>{const t=!!e.thumbnailUrl;return`\n      <div class="alt-q-switcher-item">\n          <div class="alt-q-img-container">\n            <img src="${e.thumbnailUrl||e.favIconUrl||"https://i.imgur.com/8QZ7gV5.png"}" class="${t?"alt-q-preview-img":"alt-q-favicon"}" loading="lazy" alt=""/>\n          </div>\n          <span class="alt-q-title">${e.title}</span>\n      </div>\n  `}).join(""),n(t)},t.updateHighlight=n,t.cleanup=function(){const e=document.getElementById("alt-q-switcher-overlay");e&&e.remove();const t=document.getElementById("alt-q-switcher-styles");t&&t.remove()}},583:function(e,t,n){var i,r=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),c=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||(i=function(e){return i=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},i(e)},function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=i(e),l=0;l<n.length;l++)"default"!==n[l]&&r(t,e,n[l]);return c(t,e),t}),o=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(r,c){function l(e){try{s(i.next(e))}catch(e){c(e)}}function o(e){try{s(i.throw(e))}catch(e){c(e)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(l,o)}s((i=i.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const s=l(n(411));!function(){if(window.altQSwitcherInitialized)return;window.altQSwitcherInitialized=!0;const e={isVisible:!1,tabs:[],highlightedIndex:0};function t(t){if("Alt"===t.key&&(t.stopImmediatePropagation(),t.preventDefault(),e.isVisible)){const t=e.tabs[e.highlightedIndex];if(null==t?void 0:t.id){i();const e={type:"switch-to-tab",tabId:t.id};chrome.runtime.sendMessage(e)}else i()}}function n(e){"alt-q-switcher-overlay"===e.target.id&&i()}function i(){s.cleanup(),e.isVisible=!1,window.removeEventListener("keyup",t,{capture:!0})}chrome.runtime.connect({name:"content-script-lifecycle"}).onDisconnect.addListener(()=>{i()}),chrome.runtime.onMessage.addListener(r=>{"shortcut-pressed"===r.type&&function(){o(this,void 0,void 0,function*(){var r;if(e.isVisible)e.highlightedIndex=(e.highlightedIndex+1)%e.tabs.length,s.updateHighlight(e.highlightedIndex);else try{const i=yield chrome.runtime.sendMessage({type:"capture-and-get-list"});if(!i||0===i.length)return;e.tabs=i,e.highlightedIndex=i.length>1?1:0,e.isVisible=!0,s.createSwitcherUI(e.tabs,e.highlightedIndex),window.addEventListener("keyup",t,{capture:!0}),null===(r=document.getElementById("alt-q-switcher-overlay"))||void 0===r||r.addEventListener("click",n)}catch(e){e.message.includes("Extension context invalidated")&&i()}})}()})}()}},t={};!function n(i){var r=t[i];if(void 0!==r)return r.exports;var c=t[i]={exports:{}};return e[i].call(c.exports,c,c.exports,n),c.exports}(583)})();